language: python
cache:
  directories:
  - "$HOME/.cache/pip"
os:
  - linux
before_install:
  - pip install -r requirements.txt
  - pip install pytest
install:
  - pip install .
script:
  - pytest -s -v --color=yes
deploy:
  - provider: pypi
    username: "__token__"
    password:
      secure: "OI+Cx22V+036b1TWWCD8NoVO3SLDxmRH1ar8MZWWP1Ar2hEkPQZiXquVpRBm2u/pCmLXiL1EH8mt/uLyxcUYG6d5h9X3hXPRRSU/KGnLc277A1eBRQZ5C5Req1JlCk4SWQiJ/NM0yMRGjUsTkwvmIHGqHl+mm9RJG/hKVbHKTf5cBMY49aIJumvtybgjhTnfDoKY2H0Oe+4l4M+X5ilMVHJLnYKwhaMMQD+KtIOCV5p6AWwbtZglmpiSbG9g062v53/RoKXUG6BOD7bH3V5U6I4fXIdnK495d2ucRj+V7vbdh+fyXhjsxWQ4F5UlZeM9tDhWKpxFLGRwqm6vO1dxcEGIrBNdYy6Z+qWsFCeHossw/a70HgnLrWZSJ5CETZa44Vi7XIFJtM1pJYJRAewUIPuWe9yWlgukSlqYoMNmMtdMNQ2tY+NEDiiHQ0DvqALYkh3eqMFiSPtPOyBCoeiDp3f4LLbWKKw/Wrln2/u0p2MhYXKLsWjAB1ggZ+CGz1l9TsvELMJ0HRWFuWvvfqYF56SqOMbyFBSlGiZgR15HbeuPiaf/IwotyqHWg3sQXBE9KTRgBfC23/4Tt15rcjWguEIsKU1CMnjG3r5EG6uO2w9Zcwgs4GrfO03VRhTti8ZDKQCdHz1uQAkYRW1H9XFqpJLEeGmlHpVqH2xGGpon2w0="
    on:
      tags: true
    distributions: "sdist"
  - provider: pypi
    server: https://test.pypi.org/legacy/
    username: "__token__"
    password:
      secure: "QkpRiLni3jFl654r8KAWENuVjYVQHxqr2Qok7Sx0upiaVDzgfW9FrciLUYOxUp7GKv2ymXlvtTBz0ua/HsK2mLARAW9dWe+1MXdVfrsy/PqxT9x7oOUWTOcGuaux+IjaiGxRkTtCExA7mpn51KvbmtA7owNt1F6ElFzk7Oa9PuEES13sIguABSTfORMoPt7R+/MnlrNKxQQdr0IWYTKORkfPmjJOCUDSvw6ojUczuRSf44gt9ozdHdtdweoa02iIGmsaT3YAEA9bCDwXG7IrJ3r7DZbRh8etJiapY7TZUaqRPq67Ord9IdzBcCTB1T0iHr/KhRjB3fAouFjlz8+txo4VvNfRrPuwEeVFuVdl82ELnOEM4p0SZBKq10YmKZ7/p85adVOSeCCylYF7ISA6USgitSy1E3vO0H1JDvIa4RLzWcrNLN4uvF7ohYTlarB2zXV0prerFTggSxai4DilfkD1J0AfwrNM/fwWmfSBglWeeD+pfAYbABOQupf11B0X1PanoxIUE7n4s8Je1r59MR2L2yTUVZnMitKxVYO17qm8yDsZ5FPKdi7ZikqGgSnt++JYGl+jd/nz2ZnSa17RLQo81csawDql4YSa57UaZVRMTD0mCGJA9d4Idkj969j1rHrc1mJ17LWBCqd/bOl12ZdlIKok26i/F3CiBDHPB2k="
    distributions: "sdist"